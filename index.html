<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>ü§ç</title>

<style>
:root{
  --bg1:#2a0010;
  --bg2:#7a002a;
  --bg3:#b1003a;
  --glass:rgba(255,255,255,.14);
  --ink:#fff;
}

*{box-sizing:border-box}

html,body{
  margin:0;
  width:100%;
  height:100%;
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
  color:var(--ink);
  background:#120007;
}

/* BACKGROUND (dokunma yeme fix) */
.bg{
  position:fixed; inset:-40px;
  background:
    radial-gradient(900px 600px at 20% 20%, rgba(255,255,255,.10), transparent 60%),
    radial-gradient(900px 700px at 80% 30%, rgba(255,255,255,.08), transparent 60%),
    linear-gradient(120deg,var(--bg1),var(--bg2),var(--bg3),var(--bg2));
  background-size:260% 260%;
  animation:bgMove 18s ease-in-out infinite;
  z-index:0;
  pointer-events:none; /* ‚úÖ */
}
@keyframes bgMove{
  0%{background-position:10% 20%}
  50%{background-position:90% 70%}
  100%{background-position:10% 20%}
}

.vignette{
  position:fixed; inset:0;
  background:
    radial-gradient(circle at 50% 40%, rgba(255,255,255,.08), transparent 55%),
    radial-gradient(circle at 50% 75%, rgba(0,0,0,.4), transparent 55%),
    radial-gradient(circle at 50% 50%, transparent 50%, rgba(0,0,0,.6) 100%);
  z-index:1;
  pointer-events:none; /* ‚úÖ kritik fix */
}

/* HEARTS */
canvas{
  position:fixed; inset:0;
  pointer-events:none;
  z-index:2;
}

/* CENTER STAGE */
.stage{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:4;
  padding:16px;
}

/* CARD */
.card{
  width:100%;
  max-width:460px;
  background:var(--glass);
  backdrop-filter:blur(18px);
  -webkit-backdrop-filter:blur(18px);
  border-radius:30px;
  padding:36px 28px 44px;
  box-shadow:0 40px 100px rgba(0,0,0,.55);
  text-align:center;
  animation:enter .8s ease;
}
@keyframes enter{
  from{opacity:0;transform:translateY(16px) scale(.98)}
  to{opacity:1;transform:none}
}

.card.fadeOut{
  animation:fadeOut .6s ease forwards;
}
@keyframes fadeOut{
  to{opacity:0;transform:scale(.96);filter:blur(6px)}
}

h1{margin:0 0 14px;font-size:20px}
p{margin:0;font-size:14px;line-height:1.8}

.highlight{
  margin:18px 0 10px;
  padding:12px 14px;
  border-radius:16px;
  background:#fff;
  color:#7a002a;
  font-weight:800;
}

input{
  width:100%;
  padding:15px;
  margin-top:18px;
  border-radius:18px;
  border:none;
  font-size:16px;
  text-align:center;
  outline:none;
  -webkit-appearance:none;
}

button{
  width:100%;
  padding:15px;
  margin-top:16px;
  border-radius:18px;
  border:none;
  font-size:16px;
  font-weight:800;
  background:#fff;
  color:#7a002a;
}

/* FINAL TEXT */
.final{
  white-space:pre-line;
  font-size:15px;
  line-height:1.95;
  padding-bottom:20px;
}

/* PHOTO (gizliyken tƒ±klama bloklamasƒ±n) */
.photo{
  position:fixed;
  bottom:6vh;
  left:50%;
  transform:translate(-50%,30px);
  width:min(460px,90vw);
  opacity:0;
  transition:opacity 1.2s ease, transform 1.2s ease;
  z-index:5;

  pointer-events:none; /* ‚úÖ gizliyken asla dokunma yeme */
}
.photo.show{
  opacity:1;
  transform:translate(-50%,0);
  pointer-events:auto; /* ‚úÖ g√∂r√ºn√ºrken isterse dokunulabilir */
}
.photo img{
  width:100%;
  border-radius:22px;
  box-shadow:0 30px 80px rgba(0,0,0,.45);
  display:block;
}
</style>
</head>

<body>
<div class="bg"></div>
<div class="vignette"></div>
<canvas id="c"></canvas>

<div class="stage">
  <div class="card" id="card">
    <h1>ü§ç</h1>
    <p>Bu sayfayƒ± a√ßtƒ±ysan‚Ä¶<br>demek ki tam ≈üu anda aklƒ±mdasƒ±n.</p>

    <div class="highlight">Evlendiƒüimiz tarihi yazmanƒ± istiyorum</div>
    <input id="x" placeholder="GG.AA.YYYY" inputmode="numeric" autocomplete="off">
    <button id="btn">Devam et</button>
  </div>
</div>

<div class="photo" id="photo">
  <img src="IMG_6603_Original.jpeg" alt="ü§ç">
</div>

<script>
const SECRET="15.05.2022";
const LINES=[
"Bug√ºn 14 ≈ûubat‚Ä¶",
"",
"Ama benim i√ßin",
"senin varlƒ±ƒüƒ±n",
"bir g√ºne sƒ±ƒümƒ±yor.",
"",
"Yanƒ±mdayken d√ºnya daha sakin,",
"yokken bile i√ßimde bir yer",
"‚Äútamam‚Äù diyor.",
"",
"Seni sevmek,",
"her g√ºn yeniden se√ßmek gibi.",
"Hi√ß zorlanmadan.",
"Hi√ß teredd√ºt etmeden.",
"",
"ƒ∞yi ki karƒ±msƒ±n.",
"ƒ∞yi ki benim hayatƒ±msƒ±n.",
"",
];

document.getElementById("btn").addEventListener("click", go);
document.getElementById("x").addEventListener("keydown", (e)=>{
  if(e.key==="Enter") go();
});

function go(){
  const v=document.getElementById("x").value.trim();
  if(v!==SECRET){ return; }

  const card=document.getElementById("card");
  const photo=document.getElementById("photo");

  photo.classList.remove("show");

  card.classList.add("fadeOut");
  setTimeout(()=>{
    card.classList.remove("fadeOut");
    card.innerHTML='<h1>ü§ç</h1><div class="final" id="final"></div>';

    typeLines("final",LINES,24,()=>{
      setTimeout(()=>{
        photo.classList.add("show");
        // iOS repaint
        photo.getBoundingClientRect();
      },1200);
    });
  },650);
}

function typeLines(id,lines,speed,done){
  const el=document.getElementById(id);
  let i=0,j=0;
  (function t(){
    if(i>=lines.length){done&&done();return;}
    const line=lines[i];
    if(line===""&&j===0){el.textContent+="\n";i++;return setTimeout(t,160);}
    el.textContent+=line[j]||"";
    j++;
    if(j>=line.length){el.textContent+="\n";i++;j=0;return setTimeout(t,260);}
    setTimeout(t,speed);
  })();
}

/* HEARTS */
const canvas=document.getElementById("c"),ctx=canvas.getContext("2d");
let w,h; function resize(){w=canvas.width=innerWidth;h=canvas.height=innerHeight;}
resize(); addEventListener("resize",resize);
let hearts=[];
function spawn(){
  hearts.push({x:Math.random()*w,y:h+30,s:12+Math.random()*22,v:.5+Math.random(),a:.25+Math.random()*.4,d:(Math.random()-.5)*.6});
}
function draw(x,y,s){
  ctx.beginPath();
  ctx.moveTo(x,y);
  ctx.bezierCurveTo(x-s,y-s,x-s*1.5,y+s*.5,x,y+s*1.4);
  ctx.bezierCurveTo(x+s*1.5,y+s*.5,x+s,y-s,x,y);
  ctx.fill();
}
(function loop(){
  ctx.clearRect(0,0,w,h);
  if(Math.random()>.84)spawn();
  hearts.forEach(o=>{
    o.y-=o.v; o.x+=o.d;
    ctx.globalAlpha=o.a;
    ctx.fillStyle="#fff";
    draw(o.x,o.y,o.s);
  });
  hearts=hearts.filter(o=>o.y>-100);
  requestAnimationFrame(loop);
})();
</script>
</body>
</html>

