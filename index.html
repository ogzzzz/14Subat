<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ü§ç</title>

<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  overflow:hidden;
  font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial;
  background:
    radial-gradient(900px 600px at 20% 20%, rgba(255,255,255,.10), transparent 60%),
    radial-gradient(800px 600px at 80% 30%, rgba(255,255,255,.06), transparent 60%),
    linear-gradient(180deg, #2a0011, #7a002a);
  color:#fff;
}

canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
}

/* kart */
.card{
  position:relative;
  z-index:2;
  max-width:440px;
  margin:12vh auto;
  padding:34px 28px 38px;
  border-radius:28px;
  background:rgba(255,255,255,.16);
  backdrop-filter: blur(18px);
  box-shadow:0 40px 100px rgba(0,0,0,.45);
  text-align:center;

  display:flex;
  flex-direction:column;
  align-items:center;

  animation:fadeIn .8s ease;
  transform-origin:center;
}

@keyframes fadeIn{
  from{opacity:0; transform:translateY(14px) scale(.98)}
  to{opacity:1; transform:translateY(0) scale(1)}
}

.card.vanish{
  animation:vanish .6s ease forwards;
}

@keyframes vanish{
  to{opacity:0; transform:translateY(-8px) scale(.96); filter:blur(6px)}
}

.flash{
  position:fixed;
  inset:0;
  z-index:0;
  background: radial-gradient(circle at 50% 40%, rgba(255,255,255,.28), transparent 55%);
  opacity:0;
  transition:opacity .8s ease;
  pointer-events:none;
}

h1{ margin:0 0 16px; font-size:20px; font-weight:700; }
p{ margin:0; font-size:14px; line-height:1.75; opacity:.96; }

.highlight{
  margin:18px 0 10px;
  padding:12px 14px;
  border-radius:14px;
  background:rgba(255,255,255,.9);
  color:#7a002a;
  font-size:15px;
  font-weight:700;
  width:100%;
  text-align:center;
}

input{
  width:100%;
  margin-top:18px;
  padding:15px;
  border-radius:18px;
  border:none;
  font-size:16px;
  text-align:center;
  outline:none;
}

button{
  width:100%;
  margin-top:18px;
  padding:15px;
  border-radius:18px;
  border:none;
  background:#fff;
  color:#7a002a;
  font-size:16px;
  font-weight:700;
}

.final{
  white-space:pre-line;
  font-size:15px;
  line-height:1.9;
  opacity:.98;
}
</style>
</head>

<body>

<div class="flash" id="flash"></div>
<canvas id="c"></canvas>

<div class="card" id="box">
  <h1>ü§ç</h1>

  <p>
    Bu sayfayƒ± a√ßtƒ±ysan‚Ä¶  
    demek ki tam ≈üu anda  
    aklƒ±mdasƒ±n.
  </p>

  <div class="highlight">
    Evlendiƒüimiz tarihi yazmanƒ± istiyorum
  </div>

  <input id="x" placeholder="GG.AA.YYYY" inputmode="numeric">
  <button onclick="go()">Devam et</button>
</div>

<script>
/* === AYAR === */
const SECRET = "15.05.2022";

const LINES = [
  "Bug√ºn 14 ≈ûubat‚Ä¶",
  "",
  "Ama benim i√ßin",
  "senin varlƒ±ƒüƒ±n",
  "bir g√ºne sƒ±ƒümƒ±yor.",
  "",
  "Yanƒ±mdayken d√ºnya daha sakin,",
  "yokken bile i√ßimde bir yer",
  "‚Äútamam‚Äù diyor.",
  "",
  "Seni sevmek,",
  "her g√ºn yeniden se√ßmek gibi.",
  "Hi√ß zorlanmadan.",
  "Hi√ß teredd√ºt etmeden.",
  "",
  "ƒ∞yi ki karƒ±msƒ±n.",
  "ƒ∞yi ki benim hayatƒ±msƒ±n.",
  "",
  "ü§ç"
];

/* === AKI≈û === */
function go(){
  const inp = document.getElementById("x");
  const v = inp.value.trim();

  if(v === SECRET){
    try{ navigator.vibrate && navigator.vibrate([18,10,18]); }catch(e){}

    const box = document.getElementById("box");
    const flash = document.getElementById("flash");

    box.classList.add("vanish");
    flash.style.opacity = "1";
    burst(90);

    setTimeout(()=>{
      flash.style.opacity = "0";
      box.classList.remove("vanish");
      box.innerHTML = `<h1>ü§ç</h1><div class="final" id="final"></div>`;
      typeLines("final", LINES, 22);
    }, 650);

  }else{
    inp.value="";
    inp.placeholder="Bir daha dene ü§ç";
  }
}

/* typewriter */
function typeLines(id, lines, speed){
  const el = document.getElementById(id);
  let i=0, j=0;

  function tick(){
    if(i >= lines.length) return;
    const line = lines[i];

    if(line === "" && j===0){
      el.textContent += "\n";
      i++; j=0;
      return setTimeout(tick, 120);
    }

    el.textContent += line[j] || "";
    j++;

    if(j >= line.length){
      el.textContent += "\n";
      i++; j=0;
      return setTimeout(tick, 220);
    }
    setTimeout(tick, speed);
  }
  tick();
}

/* === KALPLER === */
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");
let w,h;

function resize(){
  w = canvas.width = innerWidth;
  h = canvas.height = innerHeight;
}
resize();
addEventListener("resize",resize);

let hearts=[];
function spawn(extra=false){
  const big = extra ? (Math.random()>0.65) : (Math.random()>0.9);
  hearts.push({
    x:Math.random()*w,
    y:h+30,
    s:(big?18:10)+Math.random()*(big?18:14),
    v:(big?0.45:0.65)+Math.random()*(big?0.9:1.25),
    a:0.22+Math.random()*0.55,
    drift:(Math.random()-0.5)*0.6
  });
}

function drawHeart(x,y,s){
  ctx.beginPath();
  ctx.moveTo(x,y);
  ctx.bezierCurveTo(x-s,y-s,x-s*1.5,y+s*0.5,x,y+s*1.4);
  ctx.bezierCurveTo(x+s*1.5,y+s*0.5,x+s,y-s,x,y);
  ctx.fill();
}

function loop(){
  ctx.clearRect(0,0,w,h);
  if(Math.random()>0.82) spawn(false);

  hearts.forEach(o=>{
    o.y -= o.v;
    o.x += o.drift;
    ctx.globalAlpha = o.a;
    ctx.fillStyle="#fff";
    drawHeart(o.x,o.y,o.s);
  });

  hearts = hearts.filter(o=>o.y>-70 && o.x>-80 && o.x<w+80);
  requestAnimationFrame(loop);
}
loop();

function burst(n){
  for(let i=0;i<n;i++) spawn(true);
}
</script>

</body>
</html>
