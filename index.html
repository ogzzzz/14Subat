<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>ü§ç</title>

<style>
:root{
  --bg1:#2a0010;
  --bg2:#7a002a;
  --bg3:#b1003a;
  --glass:rgba(255,255,255,.14);
  --ink:#fff;
}
*{box-sizing:border-box}

html,body{
  margin:0;width:100%;height:100%;
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
  background:#120007;color:#fff;
}

/* background */
.bg{
  position:fixed;inset:-40px;z-index:0;
  background:
    radial-gradient(900px 600px at 20% 20%, rgba(255,255,255,.10), transparent 60%),
    radial-gradient(900px 700px at 80% 30%, rgba(255,255,255,.08), transparent 60%),
    linear-gradient(120deg,var(--bg1),var(--bg2),var(--bg3),var(--bg2));
  background-size:260% 260%;
  animation:bgMove 18s ease-in-out infinite;
  pointer-events:none;
}
@keyframes bgMove{
  0%{background-position:10% 20%}
  50%{background-position:90% 70%}
  100%{background-position:10% 20%}
}
.vignette{
  position:fixed;inset:0;z-index:1;
  background:radial-gradient(circle at 50% 50%, transparent 50%, rgba(0,0,0,.6) 100%);
  pointer-events:none;
}

/* hearts */
canvas{position:fixed;inset:0;z-index:2;pointer-events:none}

/* stage */
.stage{
  position:fixed;inset:0;z-index:4;
  display:flex;align-items:center;justify-content:center;
  padding:16px;
}

/* card */
.card{
  width:100%;max-width:460px;
  background:var(--glass);
  backdrop-filter:blur(18px);
  border-radius:30px;
  padding:36px 28px 44px;
  box-shadow:0 40px 100px rgba(0,0,0,.55);
  text-align:center;
}
.card.fadeOut{
  animation:fade .6s ease forwards;
}
@keyframes fade{to{opacity:0;transform:scale(.96);filter:blur(6px)}}

h1{margin:0 0 14px;font-size:20px}
p{margin:0;font-size:14px;line-height:1.8}

.highlight{
  margin:18px 0 10px;
  padding:12px 14px;
  border-radius:16px;
  background:#fff;color:#7a002a;
  font-weight:800;
}
input,button{
  width:100%;border:none;border-radius:18px;
  padding:15px;font-size:16px;text-align:center;
}
input{margin-top:18px}
button{margin-top:16px;font-weight:800;background:#fff;color:#7a002a}

/* text */
.final{white-space:pre-line;line-height:1.95}

/* photo */
.photo{
  position:fixed;left:50%;bottom:6vh;
  transform:translate(-50%,30px);
  width:min(460px,90vw);
  opacity:0;z-index:5;
  transition:all 1.2s ease;
  pointer-events:none;
}
.photo.show{
  opacity:1;transform:translate(-50%,0);
}
.photo img{
  width:100%;border-radius:22px;
  box-shadow:0 30px 80px rgba(0,0,0,.45);
}

/* second lock */
.lock2{
  position:fixed;left:50%;top:50%;
  transform:translate(-50%,-50%);
  z-index:6;
  opacity:0;pointer-events:none;
  transition:opacity .6s ease;
}
.lock2.show{opacity:1;pointer-events:auto}
.lock2 .card{background:rgba(255,255,255,.18)}
</style>
</head>

<body>
<div class="bg"></div>
<div class="vignette"></div>
<canvas id="c"></canvas>

<div class="stage">
  <div class="card" id="card">
    <h1>ü§ç</h1>
    <p>Bu sayfayƒ± a√ßtƒ±ysan‚Ä¶<br>demek ki tam ≈üu anda aklƒ±mdasƒ±n.</p>
    <div class="highlight">Evlendiƒüimiz tarihi yazmanƒ± istiyorum</div>
    <input id="d1" placeholder="GGAAYYYY">
    <button onclick="first()">Devam et</button>
  </div>
</div>

<div class="photo" id="photo">
  <img src="IMG_6603_Original.jpeg">
</div>

<div class="lock2" id="lock2">
  <div class="card">
    <div class="highlight">ƒ∞lk arabana ne isim vermi≈ütik?</div>
    <input id="d2">
  </div>
</div>

<script>
const DATE="15052022";
const CAR="polo≈ü";

const LINES=[
"Bug√ºn 14 ≈ûubat‚Ä¶","",
"Ama benim i√ßin","senin varlƒ±ƒüƒ±n","bir g√ºne sƒ±ƒümƒ±yor.","",
"Yanƒ±mdayken d√ºnya daha sakin,",
"yokken bile i√ßimde bir yer","‚Äútamam‚Äù diyor.","",
"ƒ∞yi ki karƒ±msƒ±n.","ƒ∞yi ki benim hayatƒ±msƒ±n.","",
"Hatƒ±rlƒ±yor musun?"
];

function first(){
  if(d1.value.trim()!==DATE) return;
  card.classList.add("fadeOut");
  setTimeout(()=>{
    card.innerHTML='<h1>ü§ç</h1><div class="final" id="final"></div>';
    card.classList.remove("fadeOut");
    typeLines(final,LINES,22,()=>{
      setTimeout(()=>photo.classList.add("show"),6000);
      setTimeout(()=>lock2.classList.add("show"),7000);
    });
  },600);
}

d2.addEventListener("input",()=>{
  if(d2.value.trim().toLowerCase()===CAR){
    lock2.innerHTML='<div class="card"><p style="font-size:15px;line-height:1.9">Bunu bilen biriyle evlendim.</p></div>';
  }
});

function typeLines(el,lines,s,done){
  let i=0,j=0;
  (function t(){
    if(i>=lines.length){done();return;}
    let l=lines[i];
    if(l===""&&j===0){el.textContent+="\n";i++;return setTimeout(t,140);}
    el.textContent+=l[j]||"";j++;
    if(j>=l.length){el.textContent+="\n";i++;j=0;return setTimeout(t,220);}
    setTimeout(t,s);
  })();
}

/* hearts */
const canvas=document.getElementById("c"),ctx=canvas.getContext("2d");
let w,h;function r(){w=canvas.width=innerWidth;h=canvas.height=innerHeight}
r();addEventListener("resize",r);
let hs=[];
function spawn(){hs.push({x:Math.random()*w,y:h+30,s:12+Math.random()*20,v:.5+Math.random(),a:.3+Math.random()*.4})}
function draw(x,y,s){
  ctx.beginPath();
  ctx.moveTo(x,y);
  ctx.bezierCurveTo(x-s,y-s,x-s*1.5,y+s*.5,x,y+s*1.4);
  ctx.bezierCurveTo(x+s*1.5,y+s*.5,x+s,y-s,x,y);
  ctx.fill();
}
(function loop(){
  ctx.clearRect(0,0,w,h);
  if(Math.random()>.85)spawn();
  hs.forEach(o=>{
    o.y-=o.v;
    ctx.globalAlpha=o.a;ctx.fillStyle="#fff";
    draw(o.x,o.y,o.s);
  });
  hs=hs.filter(o=>o.y>-80);
  requestAnimationFrame(loop);
})();
</script>
</body>
</html>
